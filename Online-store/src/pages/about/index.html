Pavel, [09.01.2023 19:09]
'use strict';
import getCollection from './modules/search.js';
import sortByPrice from './modules/sort.js';
import dualSlider from './modules/dual-slider.js';
import { generateMainCard, addSelectorClass } from './modules/generate-dom.js';
import updateCartSummary from './modules/update.js';
import addCardActions from './modules/cards.js';

let db; // Use this array of objects to work with products database
let productList = document.getElementById('products-list');

// Entrance
(() => {
  if (!localStorage.getItem('RS-online-cart')) {
    localStorage.setItem('RS-online-cart', JSON.stringify([]));
  }

  getAllProducts().then((productsArray) => {
    db = JSON.parse(JSON.stringify(productsArray));
    JSON.parse(localStorage.getItem('RS-online-cart')).forEach((x) => {
      if (db.find((y) => y.id === x.id)) {
        const productsAddedItem = db.find((y) => y.id === x.id);
        const productsAddedItemButton = document.querySelector(`#product-add-${productsAddedItem.id}`);
        addSelectorClass(productsAddedItemButton, 'button-add__active', 'Remove from cart');
      }
    });
    updateCartSummary('.header__cart span', '', '.header__total', 'Cart total:＄');
    getCollection();
    addCardActions(productList, db);
    dualSlider();
    sortByPrice();
  });
})();

async function getAllProducts() {
  let responce = await fetch('http://localhost:3000/products');
  let responceContent = await responce.json();
  let responceContentSliced = responceContent.slice(0, 60);
  for (let key in responceContentSliced) {
    await generateMainCard(responceContentSliced[key]);
  }
  return responceContentSliced;
}

Pavel, [09.01.2023 19:37]
<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Online store about</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  <link rel="stylesheet" href="./css/styles.css">
</head>

<body>
  <header class="header">
    <div class="header-wrapper">
      <a href="../../pages/main/index.html" class="header__logo">
        <img src="https://www.iconpacks.net/icons/2/free-store-icon-2017-thumb.png" alt="logo"></a>
        <div class="header__total">
          Cart total:＄0
        </div>
      <a href="../cart/index.html" class="header__cart">
        <img src="../../assets/icons/cart.svg" alt="cart">
        <span>0</span>
      </a>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <div class="product-wrapper" id="product-wrapper">
        <!-- Product item description here -->
      </div>
      </section>
  </main>

  <footer class="footer">
    <div class="footer-wrapper">
      <div>
        Authored by
        <a class="footer-link" href="https://github.com/Albedo-13" target="_blank">
          <span>@Albedo-13</span>
        </a>
        &
        <a class="footer-link" href="https://github.com/Remorselex" target="_blank">
          <span>@Remorselex</span>
        </a>
      </div>
      <div>Copyright © 2023</div>
      <a class="footer-course" href="https://rs.school/js/" target="_blank">
        <img src="../../assets/icons/rsschool.svg" alt="course logo">
      </a>
    </div>
  </footer>

  <script src="js/script.js" type="module"></script>
</body>

</html>
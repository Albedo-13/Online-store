(()=>{"use strict";let t=document.getElementById("product-wrapper");function e(t,e,a){t.classList.add(e),t.textContent=a}const a=function(t,e,a,c){const i=document.querySelector(t),n=document.querySelector(a),r=JSON.parse(localStorage.getItem("RS-online-cart"));i.textContent=e+r.reduce(((t,e)=>t+e.count),0),n.textContent=c+r.reduce(((t,e)=>t+e.count*e.price),0)};let c,i=document.getElementById("product-wrapper");localStorage.getItem("RS-online-cart")||localStorage.setItem("RS-online-cart",JSON.stringify([])),async function(){const e=function(){const t=window.location.href,e=new URLSearchParams(new URL(t).searchParams);return+Object.fromEntries(Array.from(e.entries())).id}();let a=await fetch("https://dummyjson.com/products"),i=await a.json(),n=await i.products.filter((t=>t.id===e))[0];return c=n,await function(e){let a=document.createElement("div");a.className="product-item",a.innerHTML=`\n  \x3c!-- <div class="product-item__images">\n    <img src="../../assets/img/society-reason.jpg" alt="product image">\n    <img src="../../assets/img/society-reason.jpg" alt="product image">\n    <img src="../../assets/img/society-reason.jpg" alt="product image">\n  </div> --\x3e\n  <div class="product-item__image">\n    <img src=${e.thumbnail} alt="product image">\n  </div>\n  <div class="product-item__about">\n    <form action="../../pages/main/index.html">\n      <button class="product__back-to-main">‚Üê Back</button>\n    </form>\n    <ul class="product-breadcrumbs">\n      <li><a class="product-breadcrumbs__store" href="../../pages/main/index.html">Store</a></li>\n      >>\n      <li>${e.category}</li>\n      >>\n      <li>${e.brand}</li>\n      >>\n      <li>${e.title}</li>\n    </ul>\n    <div class="product-item__name">${e.title}</div>\n    <div class="product-item__rating">Rating: ${e.rating}‚≠ê</div>\n    <div class="product-item__discount">Discount: ${e.discountPercentage}%</div>\n    <div class="product-item__stock">Stock: ${e.stock}üõç</div>\n    <div class="product-item__price">Price: ${e.price}ÔºÑ</div>\n    <div class="product-item__price">Category: ${e.category}</div>\n    <div class="product-item__price">Brand: ${e.brand}</div>\n    <div class="product-item__descr">${e.description}</div>\n  </div>\n  <div class="product-item__options">\n    <button class="product__add" id="product-add-${e.id}">Add to cart</button>\n  </div>`,t.appendChild(a)}(n),n}().then((t=>{JSON.parse(localStorage.getItem("RS-online-cart")).forEach((a=>{a.id===t.id&&e(document.querySelector(`#product-add-${t.id}`),"button-add__active","Remove from cart")})),a(".header__cart span","",".header__total","Cart total:ÔºÑ"),function(t,c){t.addEventListener("click",(t=>{let i=JSON.parse(localStorage.getItem("RS-online-cart"));if(t.target.classList.contains("button-add__active"))i=i.filter((t=>t.id!==c.id)),(n=t.target).classList.remove("button-add__active"),n.textContent="Add to cart";else if(t.target.classList.contains("product__add")){const a={id:c.id,price:c.price,count:1};i.push(a),e(t.target,"button-add__active","Remove from cart")}var n;localStorage.setItem("RS-online-cart",JSON.stringify(i)),a(".header__cart span","",".header__total","Cart total:ÔºÑ")}))}(i,c)}))})();